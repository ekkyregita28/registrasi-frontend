'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = require('babel-runtime/core-js/object/keys');

var _keys2 = _interopRequireDefault(_keys);

var _typeof2 = require('babel-runtime/helpers/typeof');

var _typeof3 = _interopRequireDefault(_typeof2);

exports.default = getAllComponents;

var _constants = require('./constants');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function pushComponent(acc, component) {
  if (!component) {
    return;
  }
  if ((typeof component === 'undefined' ? 'undefined' : (0, _typeof3.default)(component)) === 'object') {
    (0, _keys2.default)(component).forEach(function (key) {
      return pushComponent(acc, component[key]);
    });
    return;
  }
  if (component[_constants.routerHookPropName]) {
    acc.push(component);
  }
}

function getAllComponents(components) {
  var arr = Array.isArray(components) ? components : [components];
  var result = [];
  for (var i = 0, total = arr.length; i < total; i += 1) {
    pushComponent(result, arr[i]);
  }
  return result;
}